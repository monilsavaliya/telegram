METRO_LINES_ORDER = {
    # ðŸŸ¡ YELLOW LINE (Samaypur Badli <-> Huda City Centre)
    "Yellow": [
        "Samaypur Badli", "Rohini Sector 18-19", "Haiderpur Badli Mor", "Jahangirpuri", "Adarsh Nagar", "Azadpur", 
        "Model Town", "Guru Tegh Bahadur Nagar", "Vishwavidyalaya", "Vidhan Sabha", "Civil Lines", "Kashmere Gate", 
        "Chandni Chowk", "Chawri Bazar", "New Delhi", "Rajiv Chowk", "Patel Chowk", "Central Secretariat", 
        "Udyog Bhawan", "Lok Kalyan Marg", "Jorbagh", "Dilli Haat - Ina", "Aiims", "Green Park", "Hauz Khas", 
        "Malviya Nagar", "Saket", "Qutab Minar", "Chhattarpur", "Sultanpur", "Ghitorni", "Arjan Garh", 
        "Gurudronacharya", "Sikanderpur", "MG Road", "Iffco Chowk", "Huda City Centre"
    ],
    
    # ðŸ”µ BLUE LINE (Dwarka Sec 21 <-> Noida Electronic City)
    "Blue": [
        "Dwarka Sector - 21", "Dwarka Sector - 8", "Dwarka Sector - 9", "Dwarka Sector - 10", "Dwarka Sector - 11", 
        "Dwarka Sector - 12", "Dwarka Sector - 13", "Dwarka Sector - 14", "Dwarka", "Dwarka Mor", "Nawada", 
        "Uttam Nagar West", "Uttam Nagar East", "Janak Puri West", "Janak Puri East", "Tilak Nagar", "Subash Nagar", 
        "Tagore Garden", "Rajouri Garden", "Ramesh Nagar", "Moti Nagar", "Kirti Nagar", "Shadipur", "Patel Nagar", 
        "Rajendra Place", "Karol Bagh", "Jhandewalan", "RK Ashram Marg", "Rajiv Chowk", "Barakhamba", "Mandi House", 
        "Supreme Court", "Indraprastha", "Yamuna Bank", "Akshardham", "Mayur Vihar-I", "Mayur Vihar Ext", 
        "New Ashok Nagar", "Noida Sec -15", "Noida Sec -16", "Noida Sec -18", "Botanical Garden", "Golf Course", 
        "Noida City Centre", "Noida Sec-34", "Noida Sec-52", "Noida Sec-61", "Noida Sec-59", "Noida Sec-62", 
        "Noida Electronic City"
    ],
    
    # ðŸŸ£ VIOLET LINE (Kashmere Gate <-> Raja Nahar Singh)
    "Violet": [
        "Kashmere Gate", "Lal Quila", "Jama Masjid", "Delhi Gate", "Ito", "Mandi House", "Janpath", 
        "Central Secretariat", "Khan Market", "Jawahar Lal Nehru Stadium", "Jangpura", "Lajpat Nagar", 
        "Moolchand", "Kailash Colony", "Nehru Place", "Kalkaji Mandir", "Govind Puri", "Harkesh Nagar Okhla", 
        "Jasola-Apollo", "Sarita Vihar", "Mohan Estate", "Tughlakabad Station", "Badarpur Border", "Sarai", 
        "Nhpc Chowk", "Mewala Maharajpur", "Sector-28", "Badkal Mor", "Old Faridabad", "Neelam Chowk Ajronda", 
        "Bata Chowk", "Escorts Mujesar", "Sant Surdas (Sihi)", "Raja Nahar Singh"
    ],
    
    # ðŸ’— PINK LINE (Majlis Park <-> Shiv Vihar)
    "Pink": [
        "Majlis Park", "Azadpur", "Shalimar Bagh", "Netaji Subash Place", "Shakurpur", "Punjabi Bagh West", 
        "ESI Basai Darapur", "Rajouri Garden", "Mayapuri", "Naraina Vihar", "Delhi Cantt.", "Durgabai Deshmukh South Campus", 
        "Sir Vishweshwaraiah Moti Bagh", "Bhikaji Cama Place", "Sarojini Nagar", "Dilli Haat - Ina", "South Extension", 
        "Lajpat Nagar", "Vinobapuri", "Ashram", "Sarai Kale Khan - Nizamuddin", "Mayur Vihar-I", "Mayur Vihar Pocket 1", 
        "Trilokpuri Sanjay Lake", "East Vinod Nagar - Mayur Vihar-Ii", "Mandawali - West Vinod Nagar", "IP Extension", 
        "Anand Vihar", "Karkarduma", "Karkarduma Court", "Krishna Nagar", "East Azad Nagar", "Welcome", "Jafrabad", 
        "Maujpur - Babarpur", "Gokulpuri", "Johri Enclave", "Shiv Vihar"
    ],
    
    # ðŸ”´ RED LINE (Rithala <-> Shaheed Sthal)
    "Red": [
        "Rithala", "Rohini West", "Rohini East", "Pitampura", "Kohat Enclave", "Netaji Subash Place", "Keshav Puram", 
        "Kanhaiya Nagar", "Inderlok", "Shastri Nagar", "Pratap Nagar", "Pul Bangash", "Tis Hazari", "Kashmere Gate", 
        "Shastri Park", "Seelam Pur", "Welcome", "Shahdara", "Mansrover park", "Jhilmil", "Dilshad Garden", 
        "Shaheed Nagar", "Raj Bagh", "Major Mohit Sharma Rajender Nagar", "Shyam Park", "Mohan Nagar", "Arthala", 
        "Hindon River", "Shaheed Sthal (New Bus Adda)"
    ],
    
      # X MAGENTA LINE (Janak Puri West <-> Botanical Garden)
    "Magenta": [
        "Janak Puri West", "Dabri Mor - Janakpuri South", "Dashrath Puri", "Palam", "Sadar Bazar Contonment", 
        "Terminal 1- IGI Airport", "Shankar Vihar", "Vasant Vihar", "Munirka", "RK Puram", "Iit", "Hauz Khas", 
        "Panchsheel Park", "Chirag Delhi", "Greater Kailash", "Nehru Enclave", "Kalkaji Mandir", "Okhla Nsic", 
        "Sukhdev Vihar", "Jamia Millia Islamia", "Okhla Vihar", "Jasola Vihar Shaheen Bagh", "Kalindi Kunj", 
        "Okhla Bird Sanctuary", "Botanical Garden"
    ]
}

def get_direction(line, station_from, station_to):
    """
    Returns the 'Towards X' direction for a given line between two stations.
    """
    if line not in METRO_LINES_ORDER:
        return ""
        
    stations = METRO_LINES_ORDER[line]
    try:
        idx_from = stations.index(station_from)
        # Find which side station_to is (or simply assume forward if we are moving)
        # Note: station_to might not be on the same line if we are changing!
        # logic: we just need to know if we are moving towards index 0 or index -1.
        
        # Simple heuristic: If the 'next station' in our path is `idx_from + 1`, we go towards End.
        # If `idx_from - 1`, we go towards Start.
        
        # But this function only sees from/to.
        # If to is on the line, we use it.
        if station_to in stations:
            idx_to = stations.index(station_to)
            if idx_to > idx_from:
                 return f"Towards {stations[-1]}"
            else:
                 return f"Towards {stations[0]}"
        return ""
    except ValueError:
        return ""
